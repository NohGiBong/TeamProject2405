<!DOCTYPE html>
<html lang="en" layout:decorate="~{layout/layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.w3.org/1999/xhtml">

<th:block layout:fragment="content">
<head>
    <meta charset="UTF-8">
    <title>CSNotice</title>
</head>
<body>
<div th:fragment="notice">
    <div>
        <div><h2>고객센터</h2></div>
        <ul>
            <li><button type="button" style="width: 20%; left: 0;" onclick="location.href='/cs/faq';"><span>FAQ</span></button></li>
            <li><button type="button" style="width: 20%; left: 20%;" onclick="location.href='/cs/notice';"><span>공지사항</span></button></li>
            <li><button type="button" style="width: 20%; left: 40%;" onclick="location.href='/cs/inquiry';"><span>1:1문의</span></button></li>
            <li><button type="button" style="width: 20%; left: 60%;" onclick="location.href='/cs/lostfound';"><span>분실물문의</span></button></li>
        </ul>
    </div>

<div>

<table>
    <thead>
    <tr>
        <th>Number</th>
        <th>Title</th>
        <th>Registration Date</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="notice : ${noticeList}">
        <td th:text="${notice.pinned ? '!' : notice.id}"></td>
        <td><a th:href="@{/cs/notice/{id}(id=${notice.id})}" th:text="${notice.title}"></a></td>
        <td th:text="${notice.regDate}"></td>
    </tr>
    </tbody>
</table>
</div>


    <div class="pagination">
        <a th:href="@{/cs/notice(page=1, size=${size})}" th:class=" ${(currentPage == 1)? 'disabled' : ''}">&laquo;</a> <!-- "<<" for the first page -->
        <a th:href="@{/cs/notice(page=${currentPage > 1 ? currentPage - 1 : 1}, size=${size})}" th:class=" ${(currentPage == 1)? 'disabled' : ''}">&lt;</a>
        <span th:each="pageNum : ${pageNumbers}">
        <a th:if="${pageNum != currentPage}" th:href="@{/cs/notice(page=${pageNum}, size=${size})}" th:text="${pageNum}"></a>
        <span th:if="${pageNum == currentPage}" th:text="${pageNum}"></span>
    </span>
        <a th:href="@{/cs/notice(page=${currentPage < totalPages ? currentPage + 1 : totalPages}, size=${size})}" th:class=" ${(currentPage == totalPages)? 'disabled' : ''}">&gt;</a>
        <a th:href="@{/cs/notice(page=${totalPages}, size=${size})}" th:class=" ${(currentPage == totalPages)? 'disabled' : ''}">&raquo;</a> <!-- ">>" for the last page -->
    </div>

    <button id="addFaqButton" sec:authorize="hasRole('ADMIN')" type="button" onclick="location.href='faq/add';">공지사항 추가</button>
</div>
</body>
</th:block>
</html>